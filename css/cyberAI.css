/* ─────  0. 變數  ───── */
:root {
  --bg: #0d0d0d;
  --bg-panel: rgba(255,255,255,0.04);
  --text: #e2e8f0;
  --accent-1: #ff008c;
  --accent-2: #00eaff;
  --neon-glow: 0 0 6px var(--accent-2), 0 0 12px var(--accent-1);
  --radius: 14px;
  --max-width: 900px;
  --font-sans: 'Noto Sans TC', system-ui, sans-serif;
}

/* ─────  1. Reset  ───── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{
  background:var(--bg);
  color:var(--text);
  font-family:var(--font-sans);
  line-height:1.7;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' opacity='0.05'%3E%3Crect width='2' height='2' fill='%23ffffff'/%3E%3C/svg%3E");
}

/* ─────  2. Headings  ───── */
h1,h2,h3,h4{font-weight:700;line-height:1.3}
h2{margin-top:2.5rem;font-size:1.5rem}
h3{margin:2rem 0 1rem;font-size:1.2rem}
h4{margin-bottom:.6rem;font-size:1.05rem}

/* ─────  3. Hero  ───── */
.hero{
  padding:4.5rem 1.5rem;
  text-align:center;
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  background-size:200% 200%;
  animation:shift 12s ease infinite;
  -webkit-mask-image:linear-gradient(#000,#000 calc(100% - 3rem),transparent);
          mask-image:linear-gradient(#000,#000 calc(100% - 3rem),transparent);
}
@keyframes shift{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}
.hero h1{font-size:clamp(2rem,5vw,3rem);text-shadow:var(--neon-glow)}
.subtitle{opacity:.9;font-size:1rem}

/* ─────  4. Layout  ───── */
.container{
  display:flex;gap:2rem;
  max-width:var(--max-width);
  margin:0 auto;
  padding:2.5rem 1.25rem;
}
article{flex:1 1 auto}
.toc{
  flex:0 0 200px;position:sticky;top:6rem;display:none
}
.toc h2{font-size:1rem;margin-bottom:.5rem}
.toc ul{list-style:none}
.toc li{margin:.4rem 0}
.toc a{
  color:var(--text);text-decoration:none;opacity:.7;
  transition:opacity .2s;
}
.toc a:hover,.toc a.active{opacity:1;color:var(--accent-2);text-shadow:var(--neon-glow)}

/* ─────  5. Cards & Grid  ───── */
.card{
  background:var(--bg-panel);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:var(--radius);
  padding:1rem 1.2rem;
  backdrop-filter:blur(6px);
}
.neon{box-shadow:0 0 8px 1px var(--accent-1);transition:box-shadow .3s}
.neon:hover{box-shadow:0 0 20px 3px var(--accent-2)}

.cost-grid{
  display:grid;
  gap:1.5rem;
  margin:1rem 0 2rem;
}
@media(min-width:700px){.cost-grid{grid-template-columns:1fr 1fr}}

/* ─────  6. Content Elements  ───── */
p{margin:1rem 0}
ul,ol{margin:1rem 0 1rem 1.2rem}
strong{color:var(--accent-1)}
code{
  background:rgba(255,255,255,.08);
  padding:.15rem .35rem;
  border-radius:4px;
  font-size:.87em;
}

/* Reveal animation */
.reveal{opacity:0;transform:translateY(24px);transition:all .6s ease-out}
.reveal.in-view{opacity:1;transform:none}

/* Note box */
.note{
  background:rgba(255,255,255,0.07);
  border-left:4px solid var(--accent-2);
  padding:.8rem 1rem;
  border-radius:var(--radius);
  font-size:.92rem;
}

/* Footer */
footer{text-align:center;padding:2rem 1rem 3rem;font-size:.8rem;opacity:.6}

/* Responsive TOC */
@media(min-width:950px){.toc{display:block}}


/* ==== Back-to-Top Button =================================== */
#backToTop{
  position: fixed;
  right: 1.5rem;
  bottom: 1.5rem;
  width: 48px;
  height: 48px;
  border: none;
  border-radius: 50%;
  font-size: 1.4rem;
  line-height: 48px;
  color: #fff;
  background: radial-gradient(circle at 30% 30%, var(--accent-2), var(--accent-1));
  box-shadow: 0 0 10px var(--accent-1), 0 0 20px var(--accent-2);
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.25s, transform 0.25s;
  z-index: 999;   /* 確保浮在最上層 */
}
#backToTop:hover{
  transform: scale(1.1);
  box-shadow: 0 0 20px var(--accent-2), 0 0 30px var(--accent-1);
}
#backToTop.show{
  opacity: 1;
  visibility: visible;
}
